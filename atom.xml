<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Zunney的博客</title>
  
  <subtitle>功成名就不是目的，让自己快乐才叫做意义</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="//zunney.cn/"/>
  <updated>2019-06-20T09:49:16.863Z</updated>
  <id>//zunney.cn/</id>
  
  <author>
    <name>Zunney</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Redhat系安装iscsi服务器</title>
    <link href="//zunney.cn/2019/06/20/iscsi%E6%90%AD%E5%BB%BA/"/>
    <id>//zunney.cn/2019/06/20/iscsi搭建/</id>
    <published>2019-06-20T07:03:13.000Z</published>
    <updated>2019-06-20T09:49:16.863Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Redhat系安装iscsi服务器完整流程</p></blockquote><a id="more"></a><h1 id="服务端"><a href="#服务端" class="headerlink" title="服务端"></a>服务端</h1><h2 id="设置网络"><a href="#设置网络" class="headerlink" title="设置网络"></a>设置网络</h2><blockquote><p>vim /etc/sysconfig/network-scripts/ifcfg-ens33</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">TYPE=Ethernet</span><br><span class="line">BOOTPROTO=static</span><br><span class="line">NAME=ens33</span><br><span class="line">DEVICE=ens33</span><br><span class="line">ONBOOT=yes</span><br><span class="line">IPADDR=192.168.17.130</span><br><span class="line">NETMASK=255.255.255.0</span><br></pre></td></tr></table></figure><blockquote><p>systemctl restart network</p></blockquote><h2 id="配置网络yum源"><a href="#配置网络yum源" class="headerlink" title="配置网络yum源"></a>配置网络yum源</h2><blockquote><p>cd /etc/yum.repos.d/ </p></blockquote><blockquote><p>touch qzy.repo</p></blockquote><blockquote><p>vim qzy.repo</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[163]</span><br><span class="line">name=163</span><br><span class="line">enabled=1</span><br><span class="line">gpgcheck=0</span><br><span class="line">baseurl=http://mirrors.163.com/centos/7/os/x86_64</span><br></pre></td></tr></table></figure><blockquote><p>yum repolist</p></blockquote><h2 id="安装组件"><a href="#安装组件" class="headerlink" title="安装组件"></a>安装组件</h2><blockquote><p>yum install -y targetcli</p></blockquote><h2 id="进入配置targetcli"><a href="#进入配置targetcli" class="headerlink" title="进入配置targetcli"></a>进入配置targetcli</h2><blockquote><p>targetcli</p></blockquote><h3 id="创建共享设备"><a href="#创建共享设备" class="headerlink" title="创建共享设备"></a>创建共享设备</h3><p>/&gt; cd backstores/block<br>/backstores/block&gt; create name=block1 dev=/dev/sdb</p><h3 id="创建共享名"><a href="#创建共享名" class="headerlink" title="创建共享名"></a>创建共享名</h3><p>/backstores/block&gt; cd /iscsi<br>/iscsi&gt; create wwn=iqn.2019-06.com.example:server</p><h3 id="创建需要共享的设备"><a href="#创建需要共享的设备" class="headerlink" title="创建需要共享的设备"></a>创建需要共享的设备</h3><p>/iscsi&gt; cd iqn.2019-06.com.example:server/tpg1/luns<br>/iscsi/iqn.20…ver/tpg1/luns&gt; create /backstores/block/block1 </p><h3 id="设置访问控制列表"><a href="#设置访问控制列表" class="headerlink" title="设置访问控制列表"></a>设置访问控制列表</h3><p>/iscsi/iqn.20…ver/tpg1/luns&gt; cd ..<br>/iscsi/iqn.20…e:server/tpg1&gt; cd acls<br>/iscsi/iqn.20…ver/tpg1/acls&gt; create iqn.2019-06.com.example:client</p><h3 id="设置iscsi服务器地址和端口"><a href="#设置iscsi服务器地址和端口" class="headerlink" title="设置iscsi服务器地址和端口"></a>设置iscsi服务器地址和端口</h3><p>/iscsi/iqn.20…ver/tpg1/acls&gt; cd ..<br>/iscsi/iqn.20…e:server/tpg1&gt; cd portals/<br>/iscsi/iqn.20…/tpg1/portals&gt; delete 0.0.0.0 3260<br>/iscsi/iqn.20…/tpg1/portals&gt; create 192.168.17.130 3260</p><h3 id="保存退出"><a href="#保存退出" class="headerlink" title="保存退出"></a>保存退出</h3><p>/iscsi/iqn.20…/tpg1/portals&gt; cd /<br>/&gt;saveconfig<br>/&gt;exit</p><h2 id="防火墙配置"><a href="#防火墙配置" class="headerlink" title="防火墙配置"></a>防火墙配置</h2><p>firewall-cmd - -add-port=3260/tcp - -permanent<br>firewall-cmd - -reload</p><h2 id="重启服务"><a href="#重启服务" class="headerlink" title="重启服务"></a>重启服务</h2><p>systemctl restart target<br>systemctl enable target</p><h1 id="客户端：linux"><a href="#客户端：linux" class="headerlink" title="客户端：linux"></a>客户端：linux</h1><h2 id="设置网络-1"><a href="#设置网络-1" class="headerlink" title="设置网络"></a>设置网络</h2><blockquote><p>vim /etc/sysconfig/network-scripts/ifcfg-ens33</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">TYPE=Ethernet</span><br><span class="line">BOOTPROTO=static</span><br><span class="line">NAME=ens33</span><br><span class="line">DEVICE=ens33</span><br><span class="line">ONBOOT=yes</span><br><span class="line">IPADDR=192.168.17.131</span><br><span class="line">NETMASK=255.255.255.0</span><br></pre></td></tr></table></figure><blockquote><p>systemctl restart network</p></blockquote><h2 id="配置网络yum源-1"><a href="#配置网络yum源-1" class="headerlink" title="配置网络yum源"></a>配置网络yum源</h2><blockquote><p>cd /etc/yum.repos.d/ </p></blockquote><blockquote><p>touch qzy.repo</p></blockquote><blockquote><p>vim qzy.repo</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[163]</span><br><span class="line">name=163</span><br><span class="line">enabled=1</span><br><span class="line">gpgcheck=0</span><br><span class="line">baseurl=http://mirrors.163.com/centos/7/os/x86_64</span><br></pre></td></tr></table></figure><blockquote><p>yum repolist</p></blockquote><h2 id="安装组件-1"><a href="#安装组件-1" class="headerlink" title="安装组件"></a>安装组件</h2><blockquote><p>yum install -y iscsi*</p></blockquote><h2 id="修改iscsi客户端名称"><a href="#修改iscsi客户端名称" class="headerlink" title="修改iscsi客户端名称"></a>修改iscsi客户端名称</h2><p>vim /etc/iscsi/initiatorname.iscsi<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">InitiatorName=iqn.2019-06.com.example:client</span><br></pre></td></tr></table></figure></p><h2 id="重启服务-1"><a href="#重启服务-1" class="headerlink" title="重启服务"></a>重启服务</h2><p>systemctl restart iscsid<br>systemctl enable iscsid</p><h2 id="查看需要用到的命令"><a href="#查看需要用到的命令" class="headerlink" title="查看需要用到的命令"></a>查看需要用到的命令</h2><p>man iscsiadm | grep \- -mode </p><h2 id="扫描iscsi服务端"><a href="#扫描iscsi服务端" class="headerlink" title="扫描iscsi服务端"></a>扫描iscsi服务端</h2><p>iscsiadm - -mode discoverydb - -type sendtargets - -portal 192.168.17.130 –discover</p><h2 id="登陆"><a href="#登陆" class="headerlink" title="登陆"></a>登陆</h2><p>iscsiadm - -mode node  - -targetname iqn.2019-06.com.example:server - -portal 192.168.17.130:3260  - -login</p><h2 id="退出"><a href="#退出" class="headerlink" title="退出"></a>退出</h2><p>iscsiadm - -mode node - -targetname iqn.2019-06.com.example:server - -portal 192.168.17.130:3260 -u</p><h2 id="查看"><a href="#查看" class="headerlink" title="查看"></a>查看</h2><p>lsblk</p><h1 id="客户端：windows"><a href="#客户端：windows" class="headerlink" title="客户端：windows"></a>客户端：windows</h1><p>1、打开iscsi发起程序<br>2、在配置一栏里的 发起程序名称 改为 iqn.2019-06.com.example:client<br>3、在目标一栏里的发起目标填服务器的ip<br>4、选择iscsi服务器并点击链接<br>5、在windows的磁盘管理中查看</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;Redhat系安装iscsi服务器完整流程&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="学习" scheme="//zunney.cn/categories/%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="Linux" scheme="//zunney.cn/categories/%E5%AD%A6%E4%B9%A0/Linux/"/>
    
    
      <category term="Linux" scheme="//zunney.cn/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>逻辑卷的拉伸压缩与快照</title>
    <link href="//zunney.cn/2019/06/10/%E9%80%BB%E8%BE%91%E5%8D%B7%E7%9A%84%E6%8B%89%E4%BC%B8%E4%B8%8E%E5%8E%8B%E7%BC%A9/"/>
    <id>//zunney.cn/2019/06/10/逻辑卷的拉伸与压缩/</id>
    <published>2019-06-10T13:51:13.000Z</published>
    <updated>2019-07-29T06:55:11.664Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>逻辑卷的拉伸压缩与快照</p></blockquote><a id="more"></a><h2 id="创建逻辑卷"><a href="#创建逻辑卷" class="headerlink" title="创建逻辑卷"></a>创建逻辑卷</h2><blockquote><p>创建物理卷</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pvcreate /dev/sdb[1-3]</span><br></pre></td></tr></table></figure><blockquote><p>创建逻辑卷组</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vgcreate linux /dev/sdb[1-3]</span><br></pre></td></tr></table></figure><blockquote><p>创建逻辑卷</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lvcreate -L 2G  linux -n redhat</span><br></pre></td></tr></table></figure><h2 id="拉伸逻辑卷（ext4）"><a href="#拉伸逻辑卷（ext4）" class="headerlink" title="拉伸逻辑卷（ext4）"></a>拉伸逻辑卷（ext4）</h2><blockquote><p>扩大逻辑卷</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lvresize -L 5G /dev/linux/qzy</span><br></pre></td></tr></table></figure><blockquote><p>扩大文件系统</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">resize2fs /dev/linux/qzy</span><br></pre></td></tr></table></figure><h2 id="拉伸逻辑卷（xfs）"><a href="#拉伸逻辑卷（xfs）" class="headerlink" title="拉伸逻辑卷（xfs）"></a>拉伸逻辑卷（xfs）</h2><blockquote><p>扩大逻辑卷</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lvresize -L 5G /dev/linux/qzy</span><br></pre></td></tr></table></figure><blockquote><p>扩大文件系统</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xfs_growfs /dev/linux/qzy</span><br></pre></td></tr></table></figure><p>注意：xfs格式的逻辑卷不能压缩</p><h2 id="拉伸卷组"><a href="#拉伸卷组" class="headerlink" title="拉伸卷组"></a>拉伸卷组</h2><blockquote><p>创建物理卷</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pvcreate /dev/sdb5</span><br></pre></td></tr></table></figure><blockquote><p>添加进卷组</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vgextend linux /dev/sdb5</span><br></pre></td></tr></table></figure><h2 id="压缩逻辑卷"><a href="#压缩逻辑卷" class="headerlink" title="压缩逻辑卷"></a>压缩逻辑卷</h2><blockquote><p>检测剩余空间</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">e2fsck -f /dev/linux/qzy</span><br></pre></td></tr></table></figure><blockquote><p>缩减文件系统</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">resize2fs /dev/linux/qzy 1G</span><br></pre></td></tr></table></figure><blockquote><p>缩减逻辑卷</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lvreduce -L 1G /dev/linux/qzy</span><br></pre></td></tr></table></figure><h2 id="缩减卷组"><a href="#缩减卷组" class="headerlink" title="缩减卷组"></a>缩减卷组</h2><blockquote><p>移动物理卷数据</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pvmove /dev/sdb5</span><br></pre></td></tr></table></figure><blockquote><p>移出卷组</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vgreduce linux /dev/sdb5</span><br></pre></td></tr></table></figure><h2 id="快照管理"><a href="#快照管理" class="headerlink" title="快照管理"></a>快照管理</h2><blockquote><p>创建只读快照</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lvcreate -L 1G -p r -n qzy_backup -s /dev/linux/qzy</span><br></pre></td></tr></table></figure><blockquote><p>挂载快照</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount /dev/linux/qzy_backup /mnt/qzy_backup/</span><br></pre></td></tr></table></figure><blockquote><p>卸载逻辑卷</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">umount /dev/linux/qzy</span><br></pre></td></tr></table></figure><blockquote><p>恢复快照（会自动删除快照）</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lvconvert --merge /dev/linux/qzy_backup</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;逻辑卷的拉伸压缩与快照&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="学习" scheme="//zunney.cn/categories/%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="Linux" scheme="//zunney.cn/categories/%E5%AD%A6%E4%B9%A0/Linux/"/>
    
    
      <category term="Linux" scheme="//zunney.cn/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>常见网络服务扫描</title>
    <link href="//zunney.cn/2019/05/27/%E5%B8%B8%E8%A7%81%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1%E6%89%AB%E6%8F%8F/"/>
    <id>//zunney.cn/2019/05/27/常见网络服务扫描/</id>
    <published>2019-05-27T00:53:13.000Z</published>
    <updated>2019-05-27T12:39:52.611Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>metasploit对常见服务信息的收集</p></blockquote><a id="more"></a><h2 id="Telnet服务扫描"><a href="#Telnet服务扫描" class="headerlink" title="Telnet服务扫描"></a>Telnet服务扫描</h2><p>Telnet是一个历史悠久但先天缺乏安全性的网络服务。由于Telnet没有对传输的数据进行加密，越来越多的管理员渐渐使用更为安全的SSH协议代替它。但是，很多旧版的网络设备不支持SSH协议，而且管理员通常不愿冒风险升级他们重要设备的操作系统，所以网络上很多交换机、路由器甚至防火墙仍然在使用Telnet。一个有趣的现象是，价格昂贵、使用寿命更长的大型交换机使用Telnet协议的可能性会更大，而此类交换机在网络中的位置一般来说都非常重要。当渗透进入一个网络时，不妨扫描一下是否有主机或设备开启了Telnet服务，为下一步进行网络嗅探或口令猜测做好准备</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">use auxiliary/scanner/telnet/telnet_version#选择模块</span><br><span class="line">set rhosts 192.168.17.0/24#扫描整个网段</span><br><span class="line">set THREADS 100#设置线程</span><br><span class="line">show options#查看参数 </span><br><span class="line">exploit #运行</span><br></pre></td></tr></table></figure><h2 id="SSH服务扫描"><a href="#SSH服务扫描" class="headerlink" title="SSH服务扫描"></a>SSH服务扫描</h2><p>SSH是类UNIX系统上最常见的远程管理服务，与Telnet不同的是，它采用了安全的加密信息传输方式。通常管理员会使用SSH对服务器进行远程管理，服务器会向SSH客户端返回一个远程的Shell连接。如果没有做其他的安全增强配置（如限制管理登录的IP地址），只要获取服务器的登录口令，就可以使用SSH客户端登录服务器，那就相当于获得了相应登录用户的所有权限。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">use auxiliary/scanner/ssh/ssh_version #选择模块</span><br><span class="line">set rhosts 192.168.17.0/24#扫描整个网段</span><br><span class="line">set THREADS 100#设置线程</span><br><span class="line">show options #查看参数</span><br><span class="line">exploit#运行</span><br></pre></td></tr></table></figure><h2 id="Oracle数据库服务查点"><a href="#Oracle数据库服务查点" class="headerlink" title="Oracle数据库服务查点"></a>Oracle数据库服务查点</h2><p>各种网络数据库的网络服务端口是漏洞频发的“重灾区”，比如Microsoft SQL Server的1433端口，以及Oracle SQL监听器（tnslsnr）使用的1521端口。可以使用mssql_ping模块查找网络中的Microsoft SQL Server，使用tnslsnr_version模块查找网络中开放端口的Oracle监听器服务。如代码清单3-21所示，使用tnslsnr_version模块在网络中发现后台服务器上开放的Oracle数据库，并获取其版本号。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">use auxiliary/scanner/oracle/tnslsnr_version #选择模块</span><br><span class="line">set rhosts 192.168.17.0/24#扫描整个网段</span><br><span class="line">set THREADS 100#设置线程</span><br><span class="line">show options #查看参数</span><br><span class="line">exploit#运行</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;metasploit对常见服务信息的收集&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="学习" scheme="//zunney.cn/categories/%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="kali" scheme="//zunney.cn/categories/%E5%AD%A6%E4%B9%A0/kali/"/>
    
    
      <category term="kali" scheme="//zunney.cn/tags/kali/"/>
    
  </entry>
  
  <entry>
    <title>Linux的基础命令</title>
    <link href="//zunney.cn/2019/05/24/Linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/"/>
    <id>//zunney.cn/2019/05/24/Linux基本命令/</id>
    <published>2019-05-24T05:22:44.876Z</published>
    <updated>2019-05-24T09:01:59.886Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Linux的各命令的使用</p></blockquote><a id="more"></a><h1 id="基础命令"><a href="#基础命令" class="headerlink" title="基础命令"></a>基础命令</h1><h2 id="ls命令"><a href="#ls命令" class="headerlink" title="ls命令"></a>ls命令</h2><p>-l    显示详细信息</p><p>-A    显示隐藏文件</p><h2 id="alias别名"><a href="#alias别名" class="headerlink" title="alias别名"></a>alias别名</h2><h2 id="touch创建文件"><a href="#touch创建文件" class="headerlink" title="touch创建文件"></a>touch创建文件</h2><h2 id="mkdir创建文件夹"><a href="#mkdir创建文件夹" class="headerlink" title="mkdir创建文件夹"></a>mkdir创建文件夹</h2><p>mkdir {aa,bb,cc}    创建平级目录</p><p>mkdir aa/bb/cc -p    创建子集目录    </p><h2 id="pwd显示当前路径"><a href="#pwd显示当前路径" class="headerlink" title="pwd显示当前路径"></a>pwd显示当前路径</h2><h2 id="绝对路径与相对路径"><a href="#绝对路径与相对路径" class="headerlink" title="绝对路径与相对路径"></a>绝对路径与相对路径</h2><p>绝对路径从根目录出发</p><p>相对路径从当前目录出发</p><p>.    当前目录</p><p>..    上一级目录</p><h2 id="cp-复制拷贝"><a href="#cp-复制拷贝" class="headerlink" title="cp 复制拷贝"></a>cp 复制拷贝</h2><p>-i    交互式</p><p>-f    强制</p><p>\    转译符，让命令不接选项</p><p>-p    带权限拷贝</p><h2 id="rm删除"><a href="#rm删除" class="headerlink" title="rm删除"></a>rm删除</h2><p>-v    显示删除过程</p><p>-r    递归删除</p><p>-f    强制删除</p><h2 id="mv移动"><a href="#mv移动" class="headerlink" title="mv移动"></a>mv移动</h2><h2 id="history历史命令"><a href="#history历史命令" class="headerlink" title="history历史命令"></a>history历史命令</h2><p>默认显示1000条<br>在/etc/profile文件可修改</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HISTORY=1000</span><br></pre></td></tr></table></figure><h2 id="passwd命令"><a href="#passwd命令" class="headerlink" title="passwd命令"></a>passwd命令</h2><p>passwd直接回车：修改当前用户的密码</p><p>echo  redhat | passwd –stdin root</p><p>echo root：passwd | chpasswd</p><h2 id="管道"><a href="#管道" class="headerlink" title="| 管道"></a>| 管道</h2><p>|：管道，两进程之间的链接机制</p><p>–stdin：基于键盘的标准输入</p><p>管道两边进程同时进行</p><h2 id="linux目录结构"><a href="#linux目录结构" class="headerlink" title="linux目录结构"></a>linux目录结构</h2><p>linux是单树形目录结构</p><p>/：根目录</p><p>/bin：普通用户可执行程序</p><p>/sbin：系统用户的可执行程序</p><p>/home：普通用户的用户家目录</p><p>/media：光盘挂载点</p><p>/mnt：自定义挂载点</p><p>/tmp：临时文件，自带计划任务，隔一段时间会自动删除</p><h2 id="vim"><a href="#vim" class="headerlink" title="vim"></a>vim</h2><blockquote><p>普通模式</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">shift+d(D)：删除光标当前位置到行位。</span><br><span class="line">yy：复制一行</span><br><span class="line">p：粘贴</span><br><span class="line">u：回滚</span><br><span class="line">dd：删除一行</span><br><span class="line">y3↓：向下复制三行</span><br><span class="line">d3下：向下删除三行</span><br><span class="line">shift+g：将光标快速定位到文本末端</span><br><span class="line">gg：将光标快速定位到文本最前端</span><br><span class="line">Ctrl+v：块选择</span><br><span class="line">shift+v：行选择</span><br></pre></td></tr></table></figure><blockquote><p>编辑模式</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">i：直接进入编辑模式</span><br><span class="line">I：跟小写一样，无差异</span><br><span class="line">o：向下换行进入编辑模式</span><br><span class="line">O：向上换行进入编辑模式</span><br><span class="line">a：光标向后移一位进入编辑模式</span><br><span class="line">A：光标向前移以为进入编辑模式</span><br><span class="line">s：删除当前字符进入编辑模式</span><br><span class="line">S：删除当前行进入编辑模式</span><br></pre></td></tr></table></figure><blockquote><p>搜索模式</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">n：光标跟着关键字往下走</span><br><span class="line">N光标跟着关键字往上走</span><br></pre></td></tr></table></figure><blockquote><p>命令行模式</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">w：保存</span><br><span class="line">q：退出</span><br><span class="line">q!：强制退出</span><br><span class="line">wq：保存退出</span><br><span class="line">!：强制</span><br><span class="line">wq!：强制保存退出</span><br><span class="line">set number：显示行号</span><br><span class="line">set no number：不显示行号</span><br><span class="line">14：定位到文本14行</span><br></pre></td></tr></table></figure><h2 id="date日期时间"><a href="#date日期时间" class="headerlink" title="date日期时间"></a>date日期时间</h2><p>date：显示时间</p><p>date -s 2019-5-11：修改日期</p><p>date -s 10：00：00：修改时间</p><p>date -s “2019-5-11 10：00：00” ：修改日期时间</p><p>timedateclt list-timezones：显示时区</p><p>timedateclt set-time：修改时间</p><p>timedateclt set-timezone：修改时区</p><h2 id="cal日历"><a href="#cal日历" class="headerlink" title="cal日历"></a>cal日历</h2><p>cal：显示日历</p><p>cal 05 2018：显示2018年5月日历</p><p>cal 2018：显示2018年日历</p><h2 id="cp"><a href="#cp" class="headerlink" title="cp"></a>cp</h2><p>-r：递归</p><p>cp文件的selinux属性随着目的的属性而变化</p><h2 id="mv"><a href="#mv" class="headerlink" title="mv"></a>mv</h2><p>mv文件的selinux属性跟着原属性走</p><h2 id="pwd当前目录"><a href="#pwd当前目录" class="headerlink" title="pwd当前目录"></a>pwd当前目录</h2><p>pwd：查看当前工作目录</p><h2 id="rm删除-1"><a href="#rm删除-1" class="headerlink" title="rm删除"></a>rm删除</h2><p>-f：强制<br>-r：递归<br>-v：显示执行过程</p><h2 id="gt-重定向"><a href="#gt-重定向" class="headerlink" title="&gt;重定向"></a>&gt;重定向</h2><p>–stdin：标准输入</p><p>–stdout：标准输出</p><p>–stderr：标准错误<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&gt; ：标准输出重定向（会覆盖文件所以内容，会损坏源文件）</span><br><span class="line"></span><br><span class="line">&gt;&gt;：标准输出的追加（最文本最末段添加，不会损坏源文件）</span><br><span class="line"></span><br><span class="line">&amp;&gt;：任何重定向</span><br><span class="line"></span><br><span class="line">2&gt;：标准错误的重定向</span><br><span class="line"></span><br><span class="line">2&gt;&gt;：标准错误的追加</span><br><span class="line"></span><br><span class="line">&amp;&gt;&gt;：任何追加</span><br></pre></td></tr></table></figure></p><h2 id="find查找"><a href="#find查找" class="headerlink" title="find查找"></a>find查找</h2><p>find + 路径 + 选项</p><p>-name：按名称</p><p>-group：按组查询</p><p>-user：按用户查询</p><p>-mtime +1：一天前</p><p>-mtime +1：一天后</p><h2 id="文本处理工具"><a href="#文本处理工具" class="headerlink" title="文本处理工具"></a>文本处理工具</h2><p>cat：查看文本中全部内容</p><p>more：查看文本中全部内容，第一行开始，一屏显示完后左下角有百分比，回车翻一行，空格翻一页</p><p>less：跟more对应，查看文本中全部内容，第一行开始，回车翻一行，空格翻一页，不会自动退出，退出按q</p><p>grep：文本过滤</p><p>head：默认显示开头十行，-n指定行数</p><p>tail：跟head对应，默认显示最后十行，-n指定行数</p><blockquote><p>wc：统计</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"> 19   27  846   passwd</span><br><span class="line">行数 单词 字节数 文件名</span><br></pre></td></tr></table></figure><blockquote><p>sort：默认字母顺序显示全部 </p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-d：字母顺序排列</span><br><span class="line">-r：字母倒叙排列</span><br><span class="line">-u：去重（重复的只显示一个）</span><br></pre></td></tr></table></figure><blockquote><p>cut：切割</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-d：指定切割点</span><br><span class="line">-f：指定字段</span><br></pre></td></tr></table></figure><h1 id="进程管理"><a href="#进程管理" class="headerlink" title="进程管理"></a>进程管理</h1><h2 id="process进程"><a href="#process进程" class="headerlink" title="process进程"></a>process进程</h2><blockquote><p>ps：查看进程</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">-a：所有</span><br><span class="line">-u：用户</span><br><span class="line">-x：不连续终端</span><br><span class="line"></span><br><span class="line">user：用户</span><br><span class="line">pid：进程号</span><br><span class="line">cpu：CPU占用率</span><br><span class="line">mem：内存使用率</span><br><span class="line">vsz：虚拟内存使用率</span><br><span class="line">rss：真实内存使用</span><br><span class="line">tty：终端</span><br><span class="line">stat：状态</span><br><span class="line">start：起始时间</span><br><span class="line">time：使用时间</span><br><span class="line">command：执行的操作</span><br><span class="line">```</span><br><span class="line"></span><br><span class="line">&gt; kill：杀死进程</span><br><span class="line"></span><br><span class="line">```text</span><br><span class="line">-9：立即杀死（强按电源4秒强杀进程）</span><br><span class="line">-15：整节杀死（正常关机杀死进程）</span><br><span class="line"></span><br><span class="line">&gt;在vim管理器普通模式下Ctrl+z将任务放入后台</span><br><span class="line"></span><br><span class="line">&gt; jobs：查看后台进程</span><br><span class="line"></span><br><span class="line">&gt; fg：调用恢复后台进程</span><br></pre></td></tr></table></figure><h2 id="计划任务"><a href="#计划任务" class="headerlink" title="计划任务"></a>计划任务</h2><blockquote><p>at：一次计划任务</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-l：查看</span><br><span class="line">-c 作业号：查看计划内容</span><br><span class="line">-d 作业号：删除计划任务</span><br></pre></td></tr></table></figure><blockquote><p>crontab：周而复始的计划任务</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">-e：编辑</span><br><span class="line">-u：用户</span><br><span class="line"></span><br><span class="line">*****command</span><br><span class="line">分时日月周命令</span><br><span class="line"></span><br><span class="line">限制普通用户不能做计划任务：</span><br><span class="line">vim /etc/at.deny</span><br><span class="line">vim /etc/cron.deny</span><br><span class="line">允许用户做计划任务：</span><br><span class="line">touch /etc/cron.allow(一旦生产，全局生效，只允许这文件的用户做一次性计划任务，优先级大于at.deny)</span><br><span class="line">touch /etc/cron.allow(一旦生产，全局生效，只允许这文件的用户做周而复始的计划任务，优先级大于cron.deny)</span><br></pre></td></tr></table></figure><h2 id="磁盘类型"><a href="#磁盘类型" class="headerlink" title="磁盘类型"></a>磁盘类型</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; IDE接口：hard disk(hd)</span><br><span class="line">&gt; SATA/USB/SCSI接口：sata disk(sd)</span><br></pre></td></tr></table></figure><h1 id="磁盘管理"><a href="#磁盘管理" class="headerlink" title="磁盘管理"></a>磁盘管理</h1><h2 id="磁盘分区"><a href="#磁盘分区" class="headerlink" title="磁盘分区"></a>磁盘分区</h2><blockquote><p>fdisk /dev/sdb</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">n：新建分区</span><br><span class="line">p：打印分区</span><br><span class="line">d：删除分区</span><br><span class="line">t：更改分区id</span><br><span class="line">g：改为gpt架构</span><br><span class="line">l：列举已知的分区类型</span><br><span class="line">m：打印帮助手册</span><br><span class="line">w：保存</span><br><span class="line">q：退出</span><br></pre></td></tr></table></figure><blockquote><p>分区类型：</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">主分区：最多4个，编号是1---4</span><br><span class="line">扩展分区：如果有，最多一个</span><br><span class="line">逻辑分区：是在扩展分区之下去做的。（不做扩展分区就不能做逻辑分区，编号从5开始）</span><br></pre></td></tr></table></figure><blockquote><p>partprobe：磁盘探测</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rhel 5/7：partprobe</span><br><span class="line">rhel 6：partx -a：需执行两次</span><br></pre></td></tr></table></figure><blockquote><p>mkfs.xfs /dev/sdb1：重建系统文件（格式化）</p></blockquote><h2 id="挂载"><a href="#挂载" class="headerlink" title="挂载"></a>挂载</h2><blockquote><p>mount：（临时挂载）</p></blockquote><blockquote><p>vim /etc/fstab：（永久挂载） </p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">/dev/sdb1/mnt/hgfsext4defaults11</span><br><span class="line">1：资源（设备，远程挂载服务）</span><br><span class="line">2：挂载点</span><br><span class="line">3：文件系统（也就是你格式化的那个玩意儿）</span><br><span class="line">4：选项（默认都是defaults，defaults包含了一个非常重要的选项，那就是rw权限）</span><br><span class="line">5：开机是否备份，0表示不备份，1表示备份</span><br><span class="line">6：开机是否检测，0表示不检测，1表示检测1次，2检测2次</span><br><span class="line">注意：一个资源可以挂多个地方，一个地方不能挂多个资源</span><br></pre></td></tr></table></figure><h2 id="逻辑卷"><a href="#逻辑卷" class="headerlink" title="逻辑卷"></a>逻辑卷</h2><blockquote><p>物理分区做成物理卷</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pvcreate /dev/sdb&#123;5,6&#125;</span><br></pre></td></tr></table></figure><blockquote><p>将物理卷组成卷组</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vgcreate redhat -s 16 /dev/sdb&#123;5,6&#125;</span><br><span class="line">#-s：指定PE大小</span><br><span class="line">#redhat：指定卷组名</span><br></pre></td></tr></table></figure><blockquote><p>pvs</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Fmt：物理卷元数据格式</span><br><span class="line">Attr：物理卷元数据格式（lvm2 或者 lvm1）</span><br><span class="line">PSize：物理卷大小</span><br><span class="line">PFree：物理卷中的剩余空间</span><br><span class="line">Start：物理卷片段的起始物理扩展</span><br><span class="line">SSize：物理卷的片段大小</span><br></pre></td></tr></table></figure><blockquote><p>划分逻辑卷</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#第一种方式：直接指定逻辑卷大小，使用的-L</span><br><span class="line">lvcreate -L 4G redhat -n cisco</span><br><span class="line"></span><br><span class="line">#第二种：使用PE大小创建逻辑卷</span><br><span class="line">lvcreate -l 50  redhat -n cisco</span><br></pre></td></tr></table></figure><h1 id="权限管理"><a href="#权限管理" class="headerlink" title="权限管理"></a>权限管理</h1><h2 id="文件与文件夹的权限"><a href="#文件与文件夹的权限" class="headerlink" title="文件与文件夹的权限"></a>文件与文件夹的权限</h2><p>u：所属用户</p><p>g：所属组</p><p>o：其他用户</p><p>r：读</p><p>w：写</p><p>x：执行</p><h2 id="chmod修改权限"><a href="#chmod修改权限" class="headerlink" title="chmod修改权限"></a>chmod修改权限</h2><p>r=4</p><p>w=2</p><p>x=1</p><h2 id="chown修该所属用户或所属组"><a href="#chown修该所属用户或所属组" class="headerlink" title="chown修该所属用户或所属组"></a>chown修该所属用户或所属组</h2><h2 id="chgrp修改所属组"><a href="#chgrp修改所属组" class="headerlink" title="chgrp修改所属组"></a>chgrp修改所属组</h2><h2 id="合理权限"><a href="#合理权限" class="headerlink" title="合理权限"></a>合理权限</h2><p>文件：3以上的偶数权限</p><p>文件夹：四以上的奇数权限</p><p>文件一般权限：644</p><p>文件夹一般权限：755</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;Linux的各命令的使用&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="学习" scheme="//zunney.cn/categories/%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="Linux" scheme="//zunney.cn/categories/%E5%AD%A6%E4%B9%A0/Linux/"/>
    
    
      <category term="Linux" scheme="//zunney.cn/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>nmap的使用</title>
    <link href="//zunney.cn/2019/05/24/nmap%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <id>//zunney.cn/2019/05/24/nmap的使用/</id>
    <published>2019-05-23T16:27:13.000Z</published>
    <updated>2019-05-23T17:22:13.340Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>端口扫描工具nmap的使用</p></blockquote><a id="more"></a><h2 id="nmap选项"><a href="#nmap选项" class="headerlink" title="nmap选项"></a>nmap选项</h2><p>-r                顺序扫描端口</p><p>-O                操作系统检测</p><p>-sV                查看端口服务版本号</p><p>-sC                脚本扫描</p><p>-A                强力扫描（包含-O -sV -sC选项）</p><p>-F                快速扫描100个常用端口 0</p><p>-Pn                禁用主机检测</p><blockquote><p>注：如果主机屏蔽了ping请求，Nmap可能会认为该主机没有开机。这将使得Nmap无法进行进一 步检测，比如端口扫描、服务版本识别和操作系统识别等探测工作。为了克服这一问题，就 需要禁用Nmap的主机检测功能。在指定这个选项之后，Nmap会认为目标主机已经开机并会 进行全套的检测工作</p></blockquote><p>-p                检测1-100号端口</p><p>-sP(sn)            使用ping命令检测局域网在线主机</p><p>-6                扫描ipv6的主机</p><p>-sU                UDP扫描整个网段</p><p>-traceroute        路由跟踪扫描</p><p>-sS             TCP SYN 扫描 (又称半开放,或隐身扫描)</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;端口扫描工具nmap的使用&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="学习" scheme="//zunney.cn/categories/%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="kali" scheme="//zunney.cn/categories/%E5%AD%A6%E4%B9%A0/kali/"/>
    
    
      <category term="kali" scheme="//zunney.cn/tags/kali/"/>
    
  </entry>
  
  <entry>
    <title>hexo备份恢复命令</title>
    <link href="//zunney.cn/2019/05/22/hexo%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E5%91%BD%E4%BB%A4/"/>
    <id>//zunney.cn/2019/05/22/hexo备份恢复命令/</id>
    <published>2019-05-22T06:37:13.000Z</published>
    <updated>2019-05-24T06:58:34.575Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>用于hexo备份恢复命令</p></blockquote><a id="more"></a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-cli -g</span><br><span class="line"></span><br><span class="line">npm install hexo --save</span><br><span class="line"></span><br><span class="line">npm install</span><br><span class="line"></span><br><span class="line">npm install hexo-deployer-git -save</span><br><span class="line"></span><br><span class="line">git init</span><br><span class="line"></span><br><span class="line">npm install hexo-generator-feed --save</span><br><span class="line"></span><br><span class="line">npm install hexo-generator-searchdb --save</span><br><span class="line"></span><br><span class="line">npm i --save hexo-wordcount</span><br></pre></td></tr></table></figure><h2 id="博客自定义顺序"><a href="#博客自定义顺序" class="headerlink" title="博客自定义顺序"></a>博客自定义顺序</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall hexo-generator-index --save</span><br><span class="line"></span><br><span class="line">npm install hexo-generator-index-pin-top --save</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;用于hexo备份恢复命令&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="Hexo" scheme="//zunney.cn/categories/Hexo/"/>
    
    
      <category term="hexo" scheme="//zunney.cn/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>Linux内核引导</title>
    <link href="//zunney.cn/2019/05/18/%E5%86%85%E6%A0%B8%E5%BC%95%E5%AF%BC/"/>
    <id>//zunney.cn/2019/05/18/内核引导/</id>
    <published>2019-05-18T07:27:13.000Z</published>
    <updated>2019-05-23T04:02:48.971Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Redhat系Linux内核引导过程及开机破密码</p></blockquote><a id="more"></a><h2 id="linux允许级别"><a href="#linux允许级别" class="headerlink" title="linux允许级别"></a>linux允许级别</h2><blockquote><p>0:关机</p></blockquote><blockquote><p>1：single user mode 单用户模式</p></blockquote><blockquote><p>2：没有nfs多用户</p></blockquote><blockquote><p>3：有nfs多用户</p></blockquote><blockquote><p>4：未开发保留</p></blockquote><blockquote><p>5：图形化界面</p></blockquote><blockquote><p>6：reboot重启</p></blockquote><h2 id="linux开机步骤"><a href="#linux开机步骤" class="headerlink" title="linux开机步骤"></a>linux开机步骤</h2><p><img src="/images/power.PNG" alt=""></p><blockquote><p>开机会重载/etc/fstab文件，将系统设置为可读可写</p></blockquote><h2 id="开机破密码"><a href="#开机破密码" class="headerlink" title="开机破密码"></a>开机破密码</h2><blockquote><p>1、把rhgb quiet替换成init=/bin/bash，按Ctrl+c提交</p></blockquote><blockquote><p>2、mount：查看根分区是不是ro</p></blockquote><blockquote><p>3、mount -o remount,rw / ：重新挂载</p></blockquote><blockquote><p>4、echo redhat | passwd –stdin root：修改密码</p></blockquote><blockquote><p>5、touch /.autorelabel：清除selinux标签</p></blockquote><blockquote><p>6、exec /sbin/init</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;Redhat系Linux内核引导过程及开机破密码&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="学习" scheme="//zunney.cn/categories/%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="Linux" scheme="//zunney.cn/categories/%E5%AD%A6%E4%B9%A0/Linux/"/>
    
    
      <category term="Linux" scheme="//zunney.cn/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Redhat系网络工具</title>
    <link href="//zunney.cn/2019/05/18/%E7%BD%91%E7%BB%9C%E5%B7%A5%E5%85%B7/"/>
    <id>//zunney.cn/2019/05/18/网络工具/</id>
    <published>2019-05-18T03:27:13.000Z</published>
    <updated>2019-06-10T14:37:55.920Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>wget、lftp、elinks、links、scp、rsync、netstat的使用</p></blockquote><a id="more"></a><h2 id="wget本地下载资源"><a href="#wget本地下载资源" class="headerlink" title="wget本地下载资源"></a>wget本地下载资源</h2><blockquote><p>wget <a href="http://192.168.10.1/hub/xxx" target="_blank" rel="noopener">http://192.168.10.1/hub/xxx</a></p></blockquote><h2 id="lftp下载"><a href="#lftp下载" class="headerlink" title="lftp下载"></a>lftp下载</h2><blockquote><p>lftp：linux下的ftp</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">get：下载（默认下载在当前目录）</span><br><span class="line">mget：批量下载</span><br><span class="line">mget -c：断点续传</span><br><span class="line">put：上传</span><br><span class="line">mput：批量上传</span><br><span class="line">lcd：下载路径</span><br><span class="line">mirror：下载文件夹 （-R 上传文件夹）</span><br></pre></td></tr></table></figure><h2 id="elinks-links"><a href="#elinks-links" class="headerlink" title="elinks links"></a>elinks links</h2><blockquote><p>命令端网页文本方式显示工具</p></blockquote><h2 id="scp-rsync"><a href="#scp-rsync" class="headerlink" title="scp rsync"></a>scp rsync</h2><blockquote><p>scp：本地拷贝到远程，远程拷贝到本地，安全拷贝</p></blockquote><blockquote><p>rsync：文件同步</p></blockquote><h2 id="netstat端口监听"><a href="#netstat端口监听" class="headerlink" title="netstat端口监听"></a>netstat端口监听</h2><blockquote><p>netstat -tpln：开启的网络端口</p></blockquote><blockquote><p>所有端口对应的服务都在/etc/service里</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;wget、lftp、elinks、links、scp、rsync、netstat的使用&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="学习" scheme="//zunney.cn/categories/%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="Linux" scheme="//zunney.cn/categories/%E5%AD%A6%E4%B9%A0/Linux/"/>
    
    
      <category term="Linux" scheme="//zunney.cn/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Redhat系安装autofs服务器</title>
    <link href="//zunney.cn/2019/05/18/autofs%E8%87%AA%E5%8A%A8%E6%8C%82%E8%BD%BD/"/>
    <id>//zunney.cn/2019/05/18/autofs自动挂载/</id>
    <published>2019-05-18T03:00:13.000Z</published>
    <updated>2019-05-22T06:55:19.608Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Redhat系安装autofs自动挂载完整流程</p></blockquote><a id="more"></a><h2 id="设置网络"><a href="#设置网络" class="headerlink" title="设置网络"></a>设置网络</h2><blockquote><p>vim /etc/sysconfig/network-scripts/ifcfg-ens33</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">TYPE=Ethernet</span><br><span class="line">BOOTPROTO=static</span><br><span class="line">NAME=ens33</span><br><span class="line">DEVICE=ens33</span><br><span class="line">ONBOOT=yes</span><br><span class="line">IPADDR=192.168.242.131</span><br><span class="line">NETMASK=255.255.255.0</span><br></pre></td></tr></table></figure><blockquote><p>systemctl restart network</p></blockquote><h2 id="配置网络yum源"><a href="#配置网络yum源" class="headerlink" title="配置网络yum源"></a>配置网络yum源</h2><blockquote><p>cd /etc/yum.repos.d/ </p></blockquote><blockquote><p>touch qzy.repo</p></blockquote><blockquote><p>vim qzy.repo</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[163]</span><br><span class="line">name=163</span><br><span class="line">enabled=1</span><br><span class="line">gpgcheck=0</span><br><span class="line">baseurl=http://mirrors.163.com/centos/7/os/x86_64</span><br></pre></td></tr></table></figure><blockquote><p>yum repolist</p></blockquote><h2 id="安装组件"><a href="#安装组件" class="headerlink" title="安装组件"></a>安装组件</h2><blockquote><p>yum install -y autofs*</p></blockquote><h2 id="开机自启"><a href="#开机自启" class="headerlink" title="开机自启"></a>开机自启</h2><blockquote><p>systemctl enable autofs</p></blockquote><h2 id="开启服务"><a href="#开启服务" class="headerlink" title="开启服务"></a>开启服务</h2><blockquote><p>systemctl restart autofs</p></blockquote><h2 id="创建映射文件"><a href="#创建映射文件" class="headerlink" title="创建映射文件"></a>创建映射文件</h2><blockquote><p>/etc/auto.fire #创建auto.*的文件</p></blockquote><h2 id="创建硬件资源"><a href="#创建硬件资源" class="headerlink" title="创建硬件资源"></a>创建硬件资源</h2><blockquote><p>fdisk创建分区（自行创建，步骤已省略）</p></blockquote><h2 id="修改配置文件"><a href="#修改配置文件" class="headerlink" title="修改配置文件"></a>修改配置文件</h2><blockquote><p>vim /etc/auto.master /etc/auto.fire -O</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">主配置文件配置：</span><br><span class="line"></span><br><span class="line">/mnt/cdrom      /etc/auto.fire  --timeout=30</span><br><span class="line">挂载点        映射文件名       超时时间</span><br><span class="line"></span><br><span class="line">映射文件配置：</span><br><span class="line"></span><br><span class="line">map     -fstype=iso9660         :/dev/cdrom</span><br><span class="line">触发点挂载选项，文件类型硬资源</span><br><span class="line">map2     -ro,soft,intr         192.168.10.1:/tmp/hub</span><br><span class="line">触发点挂载选项软资源</span><br></pre></td></tr></table></figure><h2 id="重启服务"><a href="#重启服务" class="headerlink" title="重启服务"></a>重启服务</h2><blockquote><p>systemctl restart autofs</p></blockquote><h2 id="触发"><a href="#触发" class="headerlink" title="触发"></a>触发</h2><blockquote><p>ls /mnt/cdrom/map</p></blockquote><p>或者</p><blockquote><p>cd /mnt/cdrom/map</p></blockquote><h2 id="查看"><a href="#查看" class="headerlink" title="查看"></a>查看</h2><blockquote><p>df -h</p></blockquote><h3 id="注意：该服务（配置文件，映射文件）不能使用空格，只能使用tab"><a href="#注意：该服务（配置文件，映射文件）不能使用空格，只能使用tab" class="headerlink" title="注意：该服务（配置文件，映射文件）不能使用空格，只能使用tab"></a>注意：该服务（配置文件，映射文件）不能使用空格，只能使用tab</h3><h3 id="触发点为了更方便的挂载，一定是一个目录"><a href="#触发点为了更方便的挂载，一定是一个目录" class="headerlink" title="触发点为了更方便的挂载，一定是一个目录"></a>触发点为了更方便的挂载，一定是一个目录</h3>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;Redhat系安装autofs自动挂载完整流程&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="学习" scheme="//zunney.cn/categories/%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="Linux" scheme="//zunney.cn/categories/%E5%AD%A6%E4%B9%A0/Linux/"/>
    
    
      <category term="Linux" scheme="//zunney.cn/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Redhat系安装nfs服务器</title>
    <link href="//zunney.cn/2019/05/15/nfs%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA/"/>
    <id>//zunney.cn/2019/05/15/nfs服务搭建/</id>
    <published>2019-05-15T10:27:13.000Z</published>
    <updated>2019-06-20T09:38:39.377Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Redhat系安装nfs时间同步完整流程</p></blockquote><a id="more"></a><p>#服务端#</p><h2 id="设置网络"><a href="#设置网络" class="headerlink" title="设置网络"></a>设置网络</h2><blockquote><p>vim /etc/sysconfig/network-scripts/ifcfg-ens33</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">TYPE=Ethernet</span><br><span class="line">BOOTPROTO=static</span><br><span class="line">NAME=ens33</span><br><span class="line">DEVICE=ens33</span><br><span class="line">ONBOOT=yes</span><br><span class="line">IPADDR=192.168.242.131</span><br><span class="line">NETMASK=255.255.255.0</span><br></pre></td></tr></table></figure><blockquote><p>systemctl restart network</p></blockquote><h2 id="配置网络yum源"><a href="#配置网络yum源" class="headerlink" title="配置网络yum源"></a>配置网络yum源</h2><blockquote><p>cd /etc/yum.repos.d/ </p></blockquote><blockquote><p>touch qzy.repo</p></blockquote><blockquote><p>vim qzy.repo</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[163]</span><br><span class="line">name=163</span><br><span class="line">enabled=1</span><br><span class="line">gpgcheck=0</span><br><span class="line">baseurl=http://mirrors.163.com/centos/7/os/x86_64</span><br></pre></td></tr></table></figure><blockquote><p>yum repolist</p></blockquote><h2 id="安装组件"><a href="#安装组件" class="headerlink" title="安装组件"></a>安装组件</h2><blockquote><p>yum install -y rpcbind nfs-utils nfs4-acl-tools</p></blockquote><h2 id="修改nfs配置文件"><a href="#修改nfs配置文件" class="headerlink" title="修改nfs配置文件"></a>修改nfs配置文件</h2><blockquote><p>mkdir /redhat</p></blockquote><blockquote><p>echo “/redhat    192.168.242.0/255.255.255.0(rw,no_root_squash,no_all_squash)” /etc/exports</p></blockquote><blockquote><p>exportfs -v</p></blockquote><h2 id="防火墙开端口"><a href="#防火墙开端口" class="headerlink" title="防火墙开端口"></a>防火墙开端口</h2><blockquote><p>firewall-cmd - -add-service=nfs - -permanent</p></blockquote><blockquote><p>firewall-cmd - -add-service=mountd - -permanent</p></blockquote><blockquote><p>firewall-cmd - -add-service=rpc-bind - -permanent</p></blockquote><blockquote><p>firewall-cmd - -reload</p></blockquote><h2 id="开启服务"><a href="#开启服务" class="headerlink" title="开启服务"></a>开启服务</h2><blockquote><p>systemctl restart nfs</p></blockquote><blockquote><p>systemctl restart rpcbind</p></blockquote><blockquote><p>systemctl enable nfs</p></blockquote><blockquote><p>systemctl enable rpcbind</p></blockquote><h1 id="客户端"><a href="#客户端" class="headerlink" title="客户端"></a>客户端</h1><h2 id="设置网络-1"><a href="#设置网络-1" class="headerlink" title="设置网络"></a>设置网络</h2><blockquote><p>vim /etc/sysconfig/network-scripts/ifcfg-ens33</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">TYPE=Ethernet</span><br><span class="line">BOOTPROTO=static</span><br><span class="line">NAME=ens33</span><br><span class="line">DEVICE=ens33</span><br><span class="line">ONBOOT=yes</span><br><span class="line">IPADDR=192.168.242.132</span><br><span class="line">NETMASK=255.255.255.0</span><br></pre></td></tr></table></figure><blockquote><p>systemctl restart network</p></blockquote><h2 id="安装组件-1"><a href="#安装组件-1" class="headerlink" title="安装组件"></a>安装组件</h2><blockquote><p>yum install -y rpcbind nfs-utils nfs4-acl-tools</p></blockquote><h2 id="开启服务-1"><a href="#开启服务-1" class="headerlink" title="开启服务"></a>开启服务</h2><blockquote><p>systemctl restart nfs</p></blockquote><blockquote><p>systemctl restart rpcbind</p></blockquote><blockquote><p>systemctl enable nfs</p></blockquote><blockquote><p>systemctl enable rpcbind</p></blockquote><h2 id="挂载nfs网络存储"><a href="#挂载nfs网络存储" class="headerlink" title="挂载nfs网络存储"></a>挂载nfs网络存储</h2><blockquote><p>mount -t nfs 192.168.242.131:/redhat /mnt/redhat/</p></blockquote><blockquote><p>df -h</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;Redhat系安装nfs时间同步完整流程&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="学习" scheme="//zunney.cn/categories/%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="Linux" scheme="//zunney.cn/categories/%E5%AD%A6%E4%B9%A0/Linux/"/>
    
    
      <category term="Linux" scheme="//zunney.cn/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Redhat系安装KVM虚拟机</title>
    <link href="//zunney.cn/2019/05/15/kvm%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%90%AD%E5%BB%BA/"/>
    <id>//zunney.cn/2019/05/15/kvm虚拟机搭建/</id>
    <published>2019-05-15T10:27:13.000Z</published>
    <updated>2019-05-22T07:00:11.203Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Redhat系安装KVM虚拟机完整流程</p></blockquote><a id="more"></a><h2 id="设置网络、网桥"><a href="#设置网络、网桥" class="headerlink" title="设置网络、网桥"></a>设置网络、网桥</h2><blockquote><p>cd /etc/sysconfig/network-scripts/</p></blockquote><blockquote><p>vim ifcfg-eno16777736</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">TYPE=Ethernet</span><br><span class="line">BOOTPROTO=static</span><br><span class="line">NAME=eno16777736</span><br><span class="line">DEVICE=eno16777736</span><br><span class="line">ONBOOT=yes</span><br><span class="line">BRIDGE=br0</span><br></pre></td></tr></table></figure><blockquote><p>cp ifcfg-eno16777736 ifcfg-br0</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">TYPE=Bridge</span><br><span class="line">BOOTPROTO=static</span><br><span class="line">DEVICE=br0</span><br><span class="line">NAME=br0</span><br><span class="line">ONBOOT=yes</span><br><span class="line">IPADDR=192.168.10.1</span><br><span class="line">NETMASK=255.255.255.0</span><br></pre></td></tr></table></figure><blockquote><p>systemctl restart network</p></blockquote><h2 id="配置网络yum源"><a href="#配置网络yum源" class="headerlink" title="配置网络yum源"></a>配置网络yum源</h2><blockquote><p>mkdir /mnt/hgfs</p></blockquote><blockquote><p>cd /etc/yum.repos.d/ </p></blockquote><blockquote><p>touch qzy.repo</p></blockquote><blockquote><p>vim qzy.repo</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[base]</span><br><span class="line">name=local</span><br><span class="line">enabled=1</span><br><span class="line">gpgcheck=0</span><br><span class="line">baseurl=file:///mnt/hgfs</span><br></pre></td></tr></table></figure><blockquote><p>yum repolist</p></blockquote><h2 id="安装组件"><a href="#安装组件" class="headerlink" title="安装组件"></a>安装组件</h2><blockquote><p>yum install -y qemu-kvm libvirt* virt-manager </p></blockquote><h2 id="启动服务"><a href="#启动服务" class="headerlink" title="启动服务"></a>启动服务</h2><blockquote><p>systemctl restart libvirtd</p></blockquote><blockquote><p>virt-manager</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;Redhat系安装KVM虚拟机完整流程&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="学习" scheme="//zunney.cn/categories/%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="Linux" scheme="//zunney.cn/categories/%E5%AD%A6%E4%B9%A0/Linux/"/>
    
    
      <category term="Linux" scheme="//zunney.cn/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Redhat系安装NextCloud私有云</title>
    <link href="//zunney.cn/2019/05/15/nextcloud%E6%90%AD%E5%BB%BA/"/>
    <id>//zunney.cn/2019/05/15/nextcloud搭建/</id>
    <published>2019-05-15T10:27:13.000Z</published>
    <updated>2019-05-16T09:54:32.864Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Redhat系安装NextCloud私有云完整流程</p></blockquote><a id="more"></a><h1 id="搭建数据库"><a href="#搭建数据库" class="headerlink" title="搭建数据库"></a>搭建数据库</h1><h2 id="检查-MariaDB-是否安装"><a href="#检查-MariaDB-是否安装" class="headerlink" title="检查 MariaDB 是否安装"></a>检查 MariaDB 是否安装</h2><blockquote><p>yum list installed | grep mariadb</p></blockquote><h2 id="卸载全部-MariaDB-相关"><a href="#卸载全部-MariaDB-相关" class="headerlink" title="卸载全部 MariaDB 相关"></a>卸载全部 MariaDB 相关</h2><blockquote><p>yum -y remove mariadb*</p></blockquote><h2 id="下载-MySQL-的-YUM-源"><a href="#下载-MySQL-的-YUM-源" class="headerlink" title="下载 MySQL 的 YUM 源"></a>下载 MySQL 的 YUM 源</h2><blockquote><p>wget <a href="https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm" target="_blank" rel="noopener">https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm</a></p></blockquote><h2 id="安装-MySQL-的-YUM-源"><a href="#安装-MySQL-的-YUM-源" class="headerlink" title="安装 MySQL 的 YUM 源"></a>安装 MySQL 的 YUM 源</h2><blockquote><p>rpm -ivh mysql57-community-release-el7-11.noarch.rpm</p></blockquote><h2 id="检查-MySQL-的-YUM-源是否安装成功"><a href="#检查-MySQL-的-YUM-源是否安装成功" class="headerlink" title="检查 MySQL 的 YUM 源是否安装成功"></a>检查 MySQL 的 YUM 源是否安装成功</h2><blockquote><p>yum repolist enabled | grep “mysql.<em>-community.</em>“</p></blockquote><h2 id="查看-MySQL-版本"><a href="#查看-MySQL-版本" class="headerlink" title="查看 MySQL 版本"></a>查看 MySQL 版本</h2><blockquote><p>yum repolist all | grep mysql</p></blockquote><h2 id="安装-MySQL"><a href="#安装-MySQL" class="headerlink" title="安装 MySQL"></a>安装 MySQL</h2><blockquote><p>yum install mysql-community-server</p></blockquote><h2 id="启动-MySQL-服务"><a href="#启动-MySQL-服务" class="headerlink" title="启动 MySQL 服务"></a>启动 MySQL 服务</h2><blockquote><p>systemctl start mysqld</p></blockquote><h2 id="查看-MySQL-初始密码"><a href="#查看-MySQL-初始密码" class="headerlink" title="查看 MySQL 初始密码"></a>查看 MySQL 初始密码</h2><blockquote><p>cat /var/log/mysqld.log</p></blockquote><h2 id="测试连接-MySQL-服务"><a href="#测试连接-MySQL-服务" class="headerlink" title="测试连接 MySQL 服务"></a>测试连接 MySQL 服务</h2><blockquote><p>mysql -u root -p</p></blockquote><h2 id="修改密码强调要求"><a href="#修改密码强调要求" class="headerlink" title="修改密码强调要求"></a>修改密码强调要求</h2><blockquote><p>set global validate_password_policy=0;    #允许设置弱密码<br>set global validate_password_length=4;    #最小长度</p></blockquote><h2 id="修改密码"><a href="#修改密码" class="headerlink" title="修改密码"></a>修改密码</h2><blockquote><p>set password for ‘root‘@’localhost’=password(‘123456’);</p></blockquote><h2 id="刷新权限"><a href="#刷新权限" class="headerlink" title="刷新权限"></a>刷新权限</h2><blockquote><p>flush privileges;</p></blockquote><h2 id="退出"><a href="#退出" class="headerlink" title="退出"></a>退出</h2><h1 id="安装-PHP"><a href="#安装-PHP" class="headerlink" title="安装 PHP"></a>安装 PHP</h1><p>##安装 rpm 软件包（<a href="https://webtatic.com/packages）##" target="_blank" rel="noopener">https://webtatic.com/packages）##</a></p><blockquote><p>rpm -Uvh <a href="https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm" target="_blank" rel="noopener">https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm</a></p></blockquote><blockquote><p>rpm -Uvh <a href="https://mirror.webtatic.com/yum/el7/webtatic-release.rpm" target="_blank" rel="noopener">https://mirror.webtatic.com/yum/el7/webtatic-release.rpm</a></p></blockquote><h1 id="安装-PHP-7-1（前三个是必须安装的，后面是打开-Nextcloud-后提示安装的）"><a href="#安装-PHP-7-1（前三个是必须安装的，后面是打开-Nextcloud-后提示安装的）" class="headerlink" title="安装 PHP 7.1（前三个是必须安装的，后面是打开 Nextcloud 后提示安装的）"></a>安装 PHP 7.1（前三个是必须安装的，后面是打开 Nextcloud 后提示安装的）</h1><blockquote><p>yum -y install php71w php71w-devel php71w-mysqlnd php71w-xml php71w-mbstring php71w-gd</p></blockquote><h1 id="安装-Apache"><a href="#安装-Apache" class="headerlink" title="安装 Apache"></a>安装 Apache</h1><h2 id="安装-httpd"><a href="#安装-httpd" class="headerlink" title="安装 httpd"></a>安装 httpd</h2><blockquote><p>yum -y install httpd</p></blockquote><h2 id="开机启动-httpd"><a href="#开机启动-httpd" class="headerlink" title="开机启动 httpd"></a>开机启动 httpd</h2><blockquote><p>systemctl enable httpd</p></blockquote><h2 id="重新加载服务"><a href="#重新加载服务" class="headerlink" title="重新加载服务"></a>重新加载服务</h2><blockquote><p>systemctl daemon-reload</p></blockquote><h2 id="重启服务"><a href="#重启服务" class="headerlink" title="重启服务"></a>重启服务</h2><blockquote><p>systemctl start httpd.servic</p></blockquote><h2 id="防火墙添加-80-端口（permanent-永久）"><a href="#防火墙添加-80-端口（permanent-永久）" class="headerlink" title="防火墙添加 80 端口（permanent: 永久）"></a>防火墙添加 80 端口（permanent: 永久）</h2><blockquote><p>firewall-cmd –zone=public –add-port=80/tcp –permanent</p></blockquote><h2 id="更新防火墙规则"><a href="#更新防火墙规则" class="headerlink" title="更新防火墙规则"></a>更新防火墙规则</h2><blockquote><p>firewall-cmd –reload</p></blockquote><h1 id="部署-Nextcloud"><a href="#部署-Nextcloud" class="headerlink" title="部署 Nextcloud"></a>部署 Nextcloud</h1><h2 id="安装-wget"><a href="#安装-wget" class="headerlink" title="安装 wget"></a>安装 wget</h2><blockquote><p>yum -y install wget</p></blockquote><h2 id="移动到-Apache-部署目录"><a href="#移动到-Apache-部署目录" class="headerlink" title="移动到 Apache 部署目录"></a>移动到 Apache 部署目录</h2><blockquote><p>cd /var/www/html</p></blockquote><h2 id="下载-Nextcloud-服务端"><a href="#下载-Nextcloud-服务端" class="headerlink" title="下载 Nextcloud 服务端"></a>下载 Nextcloud 服务端</h2><blockquote><p>wget <a href="https://download.nextcloud.com/server/releases/nextcloud-15.0.7.zip" target="_blank" rel="noopener">https://download.nextcloud.com/server/releases/nextcloud-15.0.7.zip</a></p></blockquote><h2 id="安装-unzip-解压程序"><a href="#安装-unzip-解压程序" class="headerlink" title="安装 unzip 解压程序"></a>安装 unzip 解压程序</h2><blockquote><p>yum -y install unzip</p></blockquote><h2 id="解压服务端压缩包"><a href="#解压服务端压缩包" class="headerlink" title="解压服务端压缩包"></a>解压服务端压缩包</h2><blockquote><p>unzip nextcloud-15.0.7.zip</p></blockquote><h2 id="赋予目录权限（R-递归）"><a href="#赋予目录权限（R-递归）" class="headerlink" title="赋予目录权限（R: 递归）"></a>赋予目录权限（R: 递归）</h2><blockquote><p>chmod -R 777 nextcloud</p></blockquote><h2 id="永久关闭-SELinux（需重启）"><a href="#永久关闭-SELinux（需重启）" class="headerlink" title="永久关闭 SELinux（需重启）"></a>永久关闭 SELinux（需重启）</h2><blockquote><p>sed -i ‘/SELINUX/s/enforcing/disabled/‘ /etc/selinux/config</p></blockquote><h2 id="临时关闭-SELinux"><a href="#临时关闭-SELinux" class="headerlink" title="临时关闭 SELinux"></a>临时关闭 SELinux</h2><blockquote><p>setenforce 0</p></blockquote><h2 id="设置-var-lib-php-session权限"><a href="#设置-var-lib-php-session权限" class="headerlink" title="设置 var/lib/php/session权限"></a>设置 var/lib/php/session权限</h2><blockquote><p>chmod 777 /var/lib/php/*</p></blockquote><h2 id="启动-httpd"><a href="#启动-httpd" class="headerlink" title="启动 httpd"></a>启动 httpd</h2><blockquote><p>systemctl start httpd.servic</p></blockquote><h2 id="配置NextCloud"><a href="#配置NextCloud" class="headerlink" title="配置NextCloud"></a>配置NextCloud</h2><blockquote><p>浏览器打开 IP/nextcloud 配置</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;Redhat系安装NextCloud私有云完整流程&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="学习" scheme="//zunney.cn/categories/%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="Linux" scheme="//zunney.cn/categories/%E5%AD%A6%E4%B9%A0/Linux/"/>
    
    
      <category term="Linux" scheme="//zunney.cn/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Redhat系安装ntp服务器</title>
    <link href="//zunney.cn/2019/05/15/ntp%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA/"/>
    <id>//zunney.cn/2019/05/15/ntp服务搭建/</id>
    <published>2019-05-15T10:27:13.000Z</published>
    <updated>2019-06-20T09:38:56.792Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Redhat系安装ntp时间同步完整流程</p></blockquote><a id="more"></a><h1 id="服务端"><a href="#服务端" class="headerlink" title="服务端"></a>服务端</h1><h2 id="设置网络"><a href="#设置网络" class="headerlink" title="设置网络"></a>设置网络</h2><blockquote><p>vim /etc/sysconfig/network-scripts/ifcfg-ens33</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">TYPE=Ethernet</span><br><span class="line">BOOTPROTO=static</span><br><span class="line">NAME=ens33</span><br><span class="line">DEVICE=ens33</span><br><span class="line">ONBOOT=yes</span><br><span class="line">IPADDR=192.168.242.131</span><br><span class="line">NETMASK=255.255.255.0</span><br></pre></td></tr></table></figure><blockquote><p>systemctl restart network</p></blockquote><h2 id="配置网络yum源"><a href="#配置网络yum源" class="headerlink" title="配置网络yum源"></a>配置网络yum源</h2><blockquote><p>cd /etc/yum.repos.d/ </p></blockquote><blockquote><p>touch qzy.repo</p></blockquote><blockquote><p>vim qzy.repo</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[163]</span><br><span class="line">name=163</span><br><span class="line">enabled=1</span><br><span class="line">gpgcheck=0</span><br><span class="line">baseurl=http://mirrors.163.com/centos/7/os/x86_64</span><br></pre></td></tr></table></figure><blockquote><p>yum repolist</p></blockquote><h2 id="安装组件"><a href="#安装组件" class="headerlink" title="安装组件"></a>安装组件</h2><blockquote><p>yum install -y ntp ntpdate</p></blockquote><h2 id="修改配置"><a href="#修改配置" class="headerlink" title="修改配置"></a>修改配置</h2><blockquote><p>vim /etc/ntp.conf</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">添加如下配置：</span><br><span class="line">restrict 192.168.242.0 mask 255.255.255.0 nomodify notrap</span><br><span class="line">server 127.127.1.0</span><br><span class="line">fudge 127.127.1.0 stratum 10</span><br></pre></td></tr></table></figure><h2 id="重启服务"><a href="#重启服务" class="headerlink" title="重启服务"></a>重启服务</h2><blockquote><p>systemctl restart ntpd</p></blockquote><h2 id="修改防火墙"><a href="#修改防火墙" class="headerlink" title="修改防火墙"></a>修改防火墙</h2><blockquote><p>firewall-cmd - -add-service=ntp - -permanent</p></blockquote><blockquote><p>firewall-cmd - -reload</p></blockquote><blockquote><p>firewall-cmd - -list-all</p></blockquote><h2 id="重启服务-1"><a href="#重启服务-1" class="headerlink" title="重启服务"></a>重启服务</h2><blockquote><p>systemctl restart ntpd</p></blockquote><h2 id="修改时间"><a href="#修改时间" class="headerlink" title="修改时间"></a>修改时间</h2><blockquote><p>date -s 10:00:00</p></blockquote><h1 id="客户端"><a href="#客户端" class="headerlink" title="客户端"></a>客户端</h1><h2 id="设置网络-1"><a href="#设置网络-1" class="headerlink" title="设置网络"></a>设置网络</h2><blockquote><p>vim /etc/sysconfig/network-scripts/ifcfg-ens33</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">TYPE=Ethernet</span><br><span class="line">BOOTPROTO=static</span><br><span class="line">NAME=ens33</span><br><span class="line">DEVICE=ens33</span><br><span class="line">ONBOOT=yes</span><br><span class="line">IPADDR=192.168.242.132</span><br><span class="line">NETMASK=255.255.255.0</span><br></pre></td></tr></table></figure><blockquote><p>systemctl restart network</p></blockquote><h2 id="配置网络yum源-1"><a href="#配置网络yum源-1" class="headerlink" title="配置网络yum源"></a>配置网络yum源</h2><blockquote><p>cd /etc/yum.repos.d/ </p></blockquote><blockquote><p>touch qzy.repo</p></blockquote><blockquote><p>vim qzy.repo</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[163]</span><br><span class="line">name=163</span><br><span class="line">enabled=1</span><br><span class="line">gpgcheck=0</span><br><span class="line">baseurl=http://mirrors.163.com/centos/7/os/x86_64</span><br></pre></td></tr></table></figure><blockquote><p>yum repolist</p></blockquote><h2 id="安装组件-1"><a href="#安装组件-1" class="headerlink" title="安装组件"></a>安装组件</h2><blockquote><p>yum install -y ntpdate</p></blockquote><h2 id="同步时间"><a href="#同步时间" class="headerlink" title="同步时间"></a>同步时间</h2><blockquote><p>ntpdate -u 192.168.242.131</p></blockquote><h2 id="查看时间"><a href="#查看时间" class="headerlink" title="查看时间"></a>查看时间</h2><blockquote><p>date</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;Redhat系安装ntp时间同步完整流程&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="学习" scheme="//zunney.cn/categories/%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="Linux" scheme="//zunney.cn/categories/%E5%AD%A6%E4%B9%A0/Linux/"/>
    
    
      <category term="Linux" scheme="//zunney.cn/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Redhat系网卡链路聚合</title>
    <link href="//zunney.cn/2019/05/15/%E7%BD%91%E5%8D%A1%E9%93%BE%E8%B7%AF%E8%81%9A%E5%90%88/"/>
    <id>//zunney.cn/2019/05/15/网卡链路聚合/</id>
    <published>2019-05-15T10:27:13.000Z</published>
    <updated>2019-05-22T07:05:59.658Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Redhat系网卡的链路聚合完整流程</p></blockquote><a id="more"></a><h2 id="配置网络yum源"><a href="#配置网络yum源" class="headerlink" title="配置网络yum源"></a>配置网络yum源</h2><blockquote><p>cd /etc/yum.repos.d/ </p></blockquote><blockquote><p>touch qzy.repo</p></blockquote><blockquote><p>vim qzy.repo</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[163]</span><br><span class="line">name=163</span><br><span class="line">enabled=1</span><br><span class="line">gpgcheck=0</span><br><span class="line">baseurl=http://mirrors.163.com/centos/7/os/x86_64</span><br></pre></td></tr></table></figure><blockquote><p>yum repolist</p></blockquote><h2 id="安装组件"><a href="#安装组件" class="headerlink" title="安装组件"></a>安装组件</h2><blockquote><p>yum install -y gcc git vim net-tools</p></blockquote><h2 id="拷贝配置模板"><a href="#拷贝配置模板" class="headerlink" title="拷贝配置模板"></a>拷贝配置模板</h2><blockquote><p>cd  /usr/share/doc/teamd-1.25/example_ifcfgs/3</p></blockquote><blockquote><p>cp * /etc/sysconfig/network-scripts/ -v</p></blockquote><h2 id="查看记住网卡名称"><a href="#查看记住网卡名称" class="headerlink" title="查看记住网卡名称"></a>查看记住网卡名称</h2><blockquote><p>ifconfig</p></blockquote><h2 id="更改网卡配置文件名与查看到的相对应"><a href="#更改网卡配置文件名与查看到的相对应" class="headerlink" title="更改网卡配置文件名与查看到的相对应"></a>更改网卡配置文件名与查看到的相对应</h2><blockquote><p>mv ifcfg-eth1 ifcfg-ens37<br>mv ifcfg-eth2 ifcfg-ens38</p></blockquote><h2 id="更改网卡配置文件"><a href="#更改网卡配置文件" class="headerlink" title="更改网卡配置文件"></a>更改网卡配置文件</h2><blockquote><p>vim ifcfg-ens37</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">DEVICE=&quot;ens37&quot;</span><br><span class="line">DEVICETYPE=&quot;TeamPort&quot;</span><br><span class="line">ONBOOT=&quot;yes&quot;</span><br><span class="line">TEAM_MASTER=&quot;team_test0&quot;</span><br><span class="line">TEAM_PORT_CONFIG=&apos;&#123;&quot;prio&quot;: -10, &quot;sticky&quot;: true&#125;&apos;</span><br></pre></td></tr></table></figure><blockquote><p>vim ifcfg-ens38</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">DEVICE=&quot;ens38&quot;</span><br><span class="line">DEVICETYPE=&quot;TeamPort&quot;</span><br><span class="line">ONBOOT=&quot;yes&quot;</span><br><span class="line">TEAM_MASTER=&quot;team_test0&quot;</span><br><span class="line">TEAM_PORT_CONFIG=&apos;&#123;&quot;prio&quot;: -10, &quot;sticky&quot;: true&#125;&apos;</span><br></pre></td></tr></table></figure><blockquote><p>cat ifcfg-team_test0 </p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">DEVICE=&quot;team_test0&quot;</span><br><span class="line">DEVICETYPE=&quot;Team&quot;</span><br><span class="line">ONBOOT=&quot;yes&quot;</span><br><span class="line">BOOTPROTO=none</span><br><span class="line">NETMASK=255.255.255.0</span><br><span class="line">IPADDR=192.168.9.66</span><br><span class="line">TEAM_CONFIG=&apos;&#123;&quot;runner&quot;: &#123;&quot;name&quot;: &quot;activebackup&quot;&#125;&#125;&apos;</span><br></pre></td></tr></table></figure><h2 id="重启网络"><a href="#重启网络" class="headerlink" title="重启网络"></a>重启网络</h2><blockquote><p>systemctl restart network</p></blockquote><h2 id="查看聚合链路"><a href="#查看聚合链路" class="headerlink" title="查看聚合链路"></a>查看聚合链路</h2><blockquote><p>teamdctl team_test0 state</p></blockquote><h2 id="查看网卡"><a href="#查看网卡" class="headerlink" title="查看网卡"></a>查看网卡</h2><blockquote><p>nmcli connection show</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;Redhat系网卡的链路聚合完整流程&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="学习" scheme="//zunney.cn/categories/%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="Linux" scheme="//zunney.cn/categories/%E5%AD%A6%E4%B9%A0/Linux/"/>
    
    
      <category term="Linux" scheme="//zunney.cn/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Redhat系安装数据库</title>
    <link href="//zunney.cn/2019/05/15/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%AE%89%E8%A3%85/"/>
    <id>//zunney.cn/2019/05/15/数据库的安装/</id>
    <published>2019-05-15T10:27:13.000Z</published>
    <updated>2019-05-16T09:54:58.831Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Redhat安装数据库完整流程</p></blockquote><a id="more"></a><h2 id="检查-MariaDB-是否安装"><a href="#检查-MariaDB-是否安装" class="headerlink" title="检查 MariaDB 是否安装"></a>检查 MariaDB 是否安装</h2><blockquote><p>yum list installed | grep mariadb</p></blockquote><h2 id="卸载全部-MariaDB-相关"><a href="#卸载全部-MariaDB-相关" class="headerlink" title="卸载全部 MariaDB 相关"></a>卸载全部 MariaDB 相关</h2><blockquote><p>yum -y remove mariadb*</p></blockquote><h2 id="下载-MySQL-的-YUM-源"><a href="#下载-MySQL-的-YUM-源" class="headerlink" title="下载 MySQL 的 YUM 源"></a>下载 MySQL 的 YUM 源</h2><blockquote><p>wget <a href="https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm" target="_blank" rel="noopener">https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm</a></p></blockquote><h2 id="安装-MySQL-的-YUM-源"><a href="#安装-MySQL-的-YUM-源" class="headerlink" title="安装 MySQL 的 YUM 源"></a>安装 MySQL 的 YUM 源</h2><blockquote><p>rpm -ivh mysql57-community-release-el7-11.noarch.rpm</p></blockquote><h2 id="检查-MySQL-的-YUM-源是否安装成功"><a href="#检查-MySQL-的-YUM-源是否安装成功" class="headerlink" title="检查 MySQL 的 YUM 源是否安装成功"></a>检查 MySQL 的 YUM 源是否安装成功</h2><blockquote><p>yum repolist enabled | grep “mysql.<em>-community.</em>“</p></blockquote><h2 id="查看-MySQL-版本"><a href="#查看-MySQL-版本" class="headerlink" title="查看 MySQL 版本"></a>查看 MySQL 版本</h2><blockquote><p>yum repolist all | grep mysql</p></blockquote><h2 id="安装-MySQL"><a href="#安装-MySQL" class="headerlink" title="安装 MySQL"></a>安装 MySQL</h2><blockquote><p>yum install mysql-community-server</p></blockquote><h2 id="启动-MySQL-服务"><a href="#启动-MySQL-服务" class="headerlink" title="启动 MySQL 服务"></a>启动 MySQL 服务</h2><blockquote><p>systemctl start mysqld</p></blockquote><h2 id="查看-MySQL-初始密码"><a href="#查看-MySQL-初始密码" class="headerlink" title="查看 MySQL 初始密码"></a>查看 MySQL 初始密码</h2><blockquote><p>cat /var/log/mysqld.log</p></blockquote><h2 id="测试连接-MySQL-服务"><a href="#测试连接-MySQL-服务" class="headerlink" title="测试连接 MySQL 服务"></a>测试连接 MySQL 服务</h2><blockquote><p>mysql -u root -p</p></blockquote><h2 id="修改密码强调要求"><a href="#修改密码强调要求" class="headerlink" title="修改密码强调要求"></a>修改密码强调要求</h2><blockquote><p>set global validate_password_policy=0;    #允许设置弱密码<br>set global validate_password_length=4;    #最小长度</p></blockquote><h2 id="修改密码"><a href="#修改密码" class="headerlink" title="修改密码"></a>修改密码</h2><blockquote><p>set password for ‘root‘@’localhost’=password(‘123456’);</p></blockquote><h2 id="刷新权限"><a href="#刷新权限" class="headerlink" title="刷新权限"></a>刷新权限</h2><blockquote><p>flush privileges;</p></blockquote><h2 id="防火墙设置"><a href="#防火墙设置" class="headerlink" title="防火墙设置"></a>防火墙设置</h2><blockquote><p>开放 3306 端口：</p></blockquote><blockquote><p>firewall-cmd –permanent –zone=public –add-port=3306/tcp</p></blockquote><blockquote><p>firewall-cmd –permanent –zone=public –add-port=3306/udp</p></blockquote><blockquote><p>firewall-cmd –reload</p></blockquote><blockquote><p>如果是 CentOS 7，需要将 MySQL 服务加入防火墙，然后重启防火墙：</p></blockquote><blockquote><p>firewall-cmd –zone=public –permanent –add-service=mysql</p></blockquote><blockquote><p>systemctl restart firewalld</p></blockquote><h2 id="设置允许远程访问"><a href="#设置允许远程访问" class="headerlink" title="设置允许远程访问"></a>设置允许远程访问</h2><blockquote><p>grant all privileges on <em>.</em> to root@”%” identified by ‘0’;</p></blockquote><blockquote><p>flush privileges;</p></blockquote><h2 id="相关命令"><a href="#相关命令" class="headerlink" title="相关命令"></a>相关命令</h2><blockquote><p>systemctl start mysqld    #启动mysql</p></blockquote><blockquote><p>systemctl stop mysqld    #停止mysqld&gt;</p></blockquote><blockquote><p>systemctl restart mysqld    #重启mysqld</p></blockquote><blockquote><p>systemctl enable mysqld    #设置开机启动</p></blockquote><blockquote><p>systemctl status mysqld    #查看 MySQL Server 状态</p></blockquote><h2 id="防火墙相关："><a href="#防火墙相关：" class="headerlink" title="防火墙相关："></a>防火墙相关：</h2><blockquote><p>systemctl status firewalld    #查看防火墙状态</p></blockquote><blockquote><p>systemctl start firewalld    #打开防火墙</p></blockquote><blockquote><p>systemctl stop firewalld    #关闭防火墙</p></blockquote><blockquote><p>systemctl restart firewalld    #重启防火墙</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;Redhat安装数据库完整流程&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="学习" scheme="//zunney.cn/categories/%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="Linux" scheme="//zunney.cn/categories/%E5%AD%A6%E4%B9%A0/Linux/"/>
    
    
      <category term="Linux" scheme="//zunney.cn/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Redhat系邮件传输协议</title>
    <link href="//zunney.cn/2019/05/15/%E9%82%AE%E4%BB%B6%E4%BC%A0%E8%BE%93%E6%9C%8D%E5%8A%A1/"/>
    <id>//zunney.cn/2019/05/15/邮件传输服务/</id>
    <published>2019-05-15T10:27:13.000Z</published>
    <updated>2019-07-17T06:20:20.924Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Redhat系网卡邮件传输协议</p></blockquote><a id="more"></a><p>MUA    邮件用户协议<br>MTA    邮件传输协议<br>MDA    邮件投递协议</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;Redhat系网卡邮件传输协议&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="学习" scheme="//zunney.cn/categories/%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="Linux" scheme="//zunney.cn/categories/%E5%AD%A6%E4%B9%A0/Linux/"/>
    
    
      <category term="Linux" scheme="//zunney.cn/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>gnome常用插件</title>
    <link href="//zunney.cn/2019/01/20/gnome%E5%B8%B8%E7%94%A8%E6%8F%92%E4%BB%B6/"/>
    <id>//zunney.cn/2019/01/20/gnome常用插件/</id>
    <published>2019-01-20T06:57:06.000Z</published>
    <updated>2019-01-20T07:20:54.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>打造一款属于自己的gonme桌面需要用到的插件</p></blockquote><a id="more"></a><h2 id="自动隐藏电池"><a href="#自动隐藏电池" class="headerlink" title="自动隐藏电池"></a><a href="https://extensions.gnome.org/extension/595/autohide-battery/" target="_blank" rel="noopener">自动隐藏电池</a></h2><blockquote><p>如果电池已充满电并且已连接AC，请隐藏顶部面板中的电池图标。</p></blockquote><h2 id="咖啡因"><a href="#咖啡因" class="headerlink" title="咖啡因"></a><a href="https://extensions.gnome.org/extension/517/caffeine/" target="_blank" rel="noopener">咖啡因</a></h2><blockquote><p>禁用屏幕保护程序并自动暂停</p></blockquote><h2 id="剪贴板指示器"><a href="#剪贴板指示器" class="headerlink" title="剪贴板指示器"></a><a href="https://extensions.gnome.org/extension/779/clipboard-indicator/" target="_blank" rel="noopener">剪贴板指示器</a></h2><blockquote><p>Gnome-Shell的剪贴板管理器扩展 - 将剪贴板指示符添加到顶部面板，并缓存剪贴板历史记录。</p></blockquote><h2 id="Coverflow-Alt-Tab"><a href="#Coverflow-Alt-Tab" class="headerlink" title="Coverflow Alt-Tab"></a><a href="https://extensions.gnome.org/extension/97/coverflow-alt-tab/" target="_blank" rel="noopener">Coverflow Alt-Tab</a></h2><blockquote><p>替换Alt-Tab，以覆盖流方式遍历窗口。</p></blockquote><h2 id="短划线停靠"><a href="#短划线停靠" class="headerlink" title="短划线停靠"></a><a href="https://extensions.gnome.org/extension/307/dash-to-dock/" target="_blank" rel="noopener">短划线停靠</a></h2><blockquote><p>Gnome Shell的码头。此扩展将短划线移出概览，将其转换为扩展坞，以便更轻松地启动应用程序，并在窗口和桌面之间更快地切换。侧面和底部放置选项可用。</p></blockquote><h2 id="划线到面板"><a href="#划线到面板" class="headerlink" title="划线到面板"></a><a href="https://extensions.gnome.org/extension/1160/dash-to-panel/" target="_blank" rel="noopener">划线到面板</a></h2><blockquote><p>Gnome Shell的图标任务栏。此扩展将短划线移动到gnome主面板中，以便应用程序启动器和系统托盘组合成一个面板，类似于KDE Plasma和Windows 7+中的面板。不再需要单独的Dock，以便轻松访问正在运行和受欢迎的应用程序。</p></blockquote><h2 id="断开Wifi"><a href="#断开Wifi" class="headerlink" title="断开Wifi"></a><a href="https://extensions.gnome.org/extension/904/disconnect-wifi/" target="_blank" rel="noopener">断开Wifi</a></h2><blockquote><p>在连接网络时，在状态菜单中为Wifi添加“断开连接”选项。网络断开后显示重新连接选项。</p></blockquote><h2 id="扩展更新通知程序"><a href="#扩展更新通知程序" class="headerlink" title="扩展更新通知程序"></a><a href="https://extensions.gnome.org/extension/1166/extension-update-notifier/" target="_blank" rel="noopener">扩展更新通知程序</a></h2><blockquote><p>在扩展更新可用时显示通知。</p></blockquote><h2 id="互联网速度计"><a href="#互联网速度计" class="headerlink" title="互联网速度计"></a><a href="https://extensions.gnome.org/extension/1461/internet-speed-meter/" target="_blank" rel="noopener">互联网速度计</a></h2><blockquote><p>侏儒壳的简单和最小的互联网速度计。</p></blockquote><h2 id="OpenWeather"><a href="#OpenWeather" class="headerlink" title="OpenWeather"></a><a href="https://extensions.gnome.org/extension/750/openweather/" target="_blank" rel="noopener">OpenWeather</a></h2><blockquote><p>天气扩展可以显示来自<a href="https://openweathermap.org/" target="_blank" rel="noopener">https://openweathermap.org/</a>或<a href="https://darksky.net" target="_blank" rel="noopener">https://darksky.net</a>的天气信息，适用于世界上几乎所有地点。</p></blockquote><h2 id="地点状态指示器"><a href="#地点状态指示器" class="headerlink" title="地点状态指示器"></a><a href="https://extensions.gnome.org/extension/8/places-status-indicator/" target="_blank" rel="noopener">地点状态指示器</a></h2><blockquote><p>添加菜单以快速导航系统中的位置。</p></blockquote><h2 id="可移动驱动器菜单"><a href="#可移动驱动器菜单" class="headerlink" title="可移动驱动器菜单"></a><a href="https://extensions.gnome.org/extension/7/removable-drive-menu/" target="_blank" rel="noopener">可移动驱动器菜单</a></h2><blockquote><p>用于访问和卸载可移动设备的状态菜单。</p></blockquote><h2 id="截图工具"><a href="#截图工具" class="headerlink" title="截图工具"></a><a href="https://extensions.gnome.org/extension/1112/screenshot-tool/" target="_blank" rel="noopener">截图工具</a></h2><blockquote><p>方便地创建，复制，存储和上传屏幕截图</p></blockquote><h2 id="声音输入和输出设备选择器"><a href="#声音输入和输出设备选择器" class="headerlink" title="声音输入和输出设备选择器"></a><a href="https://extensions.gnome.org/extension/906/sound-output-device-chooser/" target="_blank" rel="noopener">声音输入和输出设备选择器</a></h2><blockquote><p>在音量滑块下方的状态菜单中显示声音输出和输入设备列表（类似于gnome声音设置）。还显示相同设备的HDMI，扬声器等各种活动端口以供选择</p></blockquote><h2 id="系统监测"><a href="#系统监测" class="headerlink" title="系统监测"></a><a href="https://extensions.gnome.org/extension/120/system-monitor/" target="_blank" rel="noopener">系统监测</a></h2><blockquote><p>在gnome shell状态栏中显示系统信息，例如内存使用情况，CPU使用率，网络速率……</p></blockquote><h2 id="TopIcons-Plus"><a href="#TopIcons-Plus" class="headerlink" title="TopIcons Plus"></a><a href="https://extensions.gnome.org/extension/1031/topicons/" target="_blank" rel="noopener">TopIcons Plus</a></h2><blockquote><p>此扩展程序将传统托盘图标（Gnome Shell的左下角）移动到顶部面板。它是来自ag原始扩展的分支，具有图标不透明度，饱和度，填充，大小和托盘位置的设置，以及一些小修复和与Skype集成扩展的集成。</p></blockquote><h2 id="用户主题"><a href="#用户主题" class="headerlink" title="用户主题"></a><a href="https://extensions.gnome.org/extension/19/user-themes/" target="_blank" rel="noopener">用户主题</a></h2><blockquote><p>从用户目录加载shell主题。</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;打造一款属于自己的gonme桌面需要用到的插件&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="Ubuntu" scheme="//zunney.cn/categories/Ubuntu/"/>
    
    
      <category term="Ubuntu" scheme="//zunney.cn/tags/Ubuntu/"/>
    
  </entry>
  
  <entry>
    <title>在Ubuntu上搭建个人博客系统Hexo</title>
    <link href="//zunney.cn/2019/01/19/%E5%9C%A8Ubuntu%E4%B8%8A%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E7%B3%BB%E7%BB%9FHexo/"/>
    <id>//zunney.cn/2019/01/19/在Ubuntu上搭建个人博客系统Hexo/</id>
    <published>2019-01-18T20:14:13.000Z</published>
    <updated>2019-01-20T07:19:32.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>ubuntu成为我的日常使用的系统后，特在网上摘取了一篇ubuntu搭建hexo的文章</p></blockquote><a id="more"></a><h2 id="准备环境"><a href="#准备环境" class="headerlink" title="准备环境"></a>准备环境</h2><h3 id="安装-Git"><a href="#安装-Git" class="headerlink" title="安装 Git"></a>安装 Git</h3><blockquote><p>sudo apt install git-core -y</p></blockquote><h3 id="安装Node-js"><a href="#安装Node-js" class="headerlink" title="安装Node.js"></a>安装Node.js</h3><blockquote><p>wget -qO- <a href="https://raw.github.com/creationix/nvm/master/install.sh" target="_blank" rel="noopener">https://raw.github.com/creationix/nvm/master/install.sh</a> | sh<br>source ~/.profile<br>nvm install stable</p></blockquote><h2 id="安装-Hexo"><a href="#安装-Hexo" class="headerlink" title="安装 Hexo"></a>安装 Hexo</h2><h3 id="安装-cnpm"><a href="#安装-cnpm" class="headerlink" title="安装 cnpm"></a>安装 cnpm</h3><blockquote><p>npm install -g cnpm –registry=<a href="https://registry.npm.taobao.org/" target="_blank" rel="noopener">https://registry.npm.taobao.org</a></p></blockquote><h3 id="安装-Hexo-1"><a href="#安装-Hexo-1" class="headerlink" title="安装 Hexo"></a>安装 Hexo</h3><p>先创建一个文件夹，然后进入到文件夹开始安装</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mkdir hexo</span><br><span class="line">cd hexo</span><br><span class="line">cnpm install -g hexo-cli</span><br><span class="line">hexo init</span><br></pre></td></tr></table></figure><h3 id="测试安装成功"><a href="#测试安装成功" class="headerlink" title="测试安装成功"></a>测试安装成功</h3><p><strong>打开 Hexo 服务</strong></p><blockquote><p>hexo server</p></blockquote><p>**此时打开浏览器访问自己【主机的ip：4000】就可以看到我们搭建成功的博客页面。但是这仅仅是本地的，接下来把博客部署到 GitHub 上面我们就可以脱离本地访问了。</p><h2 id="将博客部署到-GitHub"><a href="#将博客部署到-GitHub" class="headerlink" title="将博客部署到 GitHub"></a>将博客部署到 GitHub</h2><h3 id="注册-GitHub"><a href="#注册-GitHub" class="headerlink" title="注册 GitHub"></a>注册 GitHub</h3><p><strong>如果没有GitHub账户的先去去注册GitHub账户，有GitHub账户的直接下一步;</strong></p><h3 id="设置-user-name-和-user-email"><a href="#设置-user-name-和-user-email" class="headerlink" title="设置 user.name 和 user.email"></a>设置 user.name 和 user.email</h3><p><strong>注册好之后回来自己的机器上</strong></p><blockquote><p>git config –global user.name “Your user.name”<br>git config –global user.email “You user.email”<br>//“ “里面换成自己的user.name和user.email;</p></blockquote><h3 id="生成-shh-密匙"><a href="#生成-shh-密匙" class="headerlink" title="生成 shh 密匙"></a>生成 shh 密匙</h3><blockquote><p>ssh-keygen -t rsa -C user.email<br>**下面提示输入要保存到的路径，直接回车就行了，默认保存到/home/ubuntu/.ssh/id_rsa</p></blockquote><h3 id="查看-shh-密匙"><a href="#查看-shh-密匙" class="headerlink" title="查看 shh 密匙"></a>查看 shh 密匙</h3><blockquote><p>vim /home/ubuntu/.ssh/id_rsa</p></blockquote><p><strong>把密匙复制一下，接下来去 GitHub 账户下添加 SSH key；</strong></p><h3 id="在-GitHub-账户添加-SSH-key"><a href="#在-GitHub-账户添加-SSH-key" class="headerlink" title="在 GitHub 账户添加 SSH key"></a>在 GitHub 账户添加 SSH key</h3><p><strong>添加 ssh key ，点击传送；</strong></p><h3 id="创建-GitHub-仓库"><a href="#创建-GitHub-仓库" class="headerlink" title="创建 GitHub 仓库"></a>创建 GitHub 仓库</h3><blockquote><p>命名格式为”账户的userName”.github.io<br>例如 ： zhangsan.github.io</p></blockquote><p><strong>去创建GitHub仓库)</strong></p><h3 id="修改-hexo-配置文件"><a href="#修改-hexo-配置文件" class="headerlink" title="修改 hexo 配置文件"></a>修改 hexo 配置文件</h3><p><strong>进入到自己的hexo 安装目录下 ，打开_config.yml文件</strong></p><p><strong>修改下面这部分；</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;pre&gt;`deploy:</span><br><span class="line">   type: git</span><br><span class="line">    repo: git@github.com:(BoView)/(BoView).github.io.git #括号里面换成自己的用户名和仓库名,去掉括号</span><br><span class="line">    branch: master</span><br></pre></td></tr></table></figure><h3 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">//生成静态页面</span><br><span class="line">    hexo g</span><br><span class="line">    //将public文件内容部署到github仓库</span><br><span class="line">    hexo d</span><br><span class="line">    //这两条是常用的命令，后者也可以这样</span><br><span class="line">    hexo d -g</span><br><span class="line">    //或者</span><br><span class="line">    hexo g -d</span><br></pre></td></tr></table></figure><p><strong>如果部署遇到错误，先执行下面这条命令</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git –save</span><br></pre></td></tr></table></figure><blockquote><p>然后重新部署一下，<br>此时可以打开浏览器访问userName.github.io(GitHub仓库名)<br>即可以访问到搭建的博客页面<br>到这里基本完成任务了，但是我们想更完美一点，再绑定个域名，然后用域名访问岂不美哉；</p></blockquote><h2 id="绑定域名"><a href="#绑定域名" class="headerlink" title="绑定域名"></a>绑定域名</h2><h3 id="添加解析记录"><a href="#添加解析记录" class="headerlink" title="添加解析记录"></a>添加解析记录</h3><p><strong>去自己的域名下添加解析)</strong></p><blockquote><p>记录类型为 CNAME 主机记录为@ 线路选择默认，TTL选择600，记录值为github的仓库名userName.github.io</p></blockquote><h3 id="配置-hexo"><a href="#配置-hexo" class="headerlink" title="配置 hexo"></a>配置 hexo</h3><p><strong>创建CNAME配置文件</strong></p><blockquote><p>touch ~/hexo/source/CNAME</p></blockquote><p><strong>下面在CNAME配置文件里面添加刚才解析的域名</strong></p><blockquote><p>例如： zhangsan.com</p></blockquote><p><strong>然后重新部署一下，</strong></p><p><strong>ok，ok，恭喜大家，</strong></p><p><strong>此时打开浏览器访问自己的域名即可以访问自己搭建的博客</strong></p><p><strong>开启自己的【博客之旅】吧</strong></p><h2 id="hexo部署进阶命令"><a href="#hexo部署进阶命令" class="headerlink" title="hexo部署进阶命令"></a>hexo部署进阶命令</h2><h3 id="Hexo博文置顶（自定义排序）"><a href="#Hexo博文置顶（自定义排序）" class="headerlink" title="Hexo博文置顶（自定义排序）"></a>Hexo博文置顶（自定义排序）</h3><p>如果目前已经有修改后支持置顶的仓库，可以直接用以下命令安装。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall hexo-generator-index --save</span><br><span class="line">npm install hexo-generator-index-pin-top --save</span><br></pre></td></tr></table></figure><p>使用的是top属性，top值越高，排序越在前，不设置top值得博文按照时间顺序排序。<br>修改Hexo文件夹下的node_modules/hexo-generator-index/lib/generator.js</p><p>打开在最后添加如下javascript代码</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">posts.data = posts.data.sort(function(a, b) &#123;</span><br><span class="line">if(a.top &amp;&amp; b.top) &#123; // 两篇文章top都有定义</span><br><span class="line">    if(a.top == b.top) return b.date - a.date; // 若top值一样则按照文章日期降序排</span><br><span class="line">    else return b.top - a.top; // 否则按照top值降序排</span><br><span class="line">&#125;</span><br><span class="line">else if(a.top &amp;&amp; !b.top) &#123; // 以下是只有一篇文章top有定义，那么将有top的排在前面（这里用异或操作居然不行233）</span><br><span class="line">    return -1;</span><br><span class="line">&#125;</span><br><span class="line">else if(!a.top &amp;&amp; b.top) &#123;</span><br><span class="line">    return 1;</span><br><span class="line">&#125;</span><br><span class="line">else return b.date - a.date; // 都没定义按照文章日期降序排</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>在写文章的时候添加top属性就行了。</p><h3 id="hexo增加RSS"><a href="#hexo增加RSS" class="headerlink" title="hexo增加RSS"></a>hexo增加RSS</h3><p>在你 <code>Hexo</code> 站点目录下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-feed --save</span><br></pre></td></tr></table></figure><p>打开 <code>Hexo</code> 站点下的 <code>_config.yml</code> ,添加如下配置：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># feed</span><br><span class="line"># Dependencies: https://github.com/hexojs/hexo-generator-feed</span><br><span class="line">feed:</span><br><span class="line">  type: atom</span><br><span class="line">  path: atom.xml</span><br><span class="line">  limit: 20</span><br><span class="line">  hub:</span><br><span class="line">  content:</span><br></pre></td></tr></table></figure><h3 id="本地搜索"><a href="#本地搜索" class="headerlink" title="本地搜索"></a>本地搜索</h3><p>在你站点的根目录下</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-searchdb --save</span><br></pre></td></tr></table></figure><p>打开 <code>Hexo</code> 站点的 <code>_config.yml</code>,添加配置</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">search:</span><br><span class="line">  path: search.xml</span><br><span class="line">  field: post</span><br><span class="line">  format: html</span><br><span class="line">  limit: 10000</span><br></pre></td></tr></table></figure><p>打开 <code>themes/next/_config.yml</code> ,搜索关键字 <code>local_search</code> ,设置为 <code>true</code>：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># Local search</span><br><span class="line"># Dependencies: https://github.com/flashlab/hexo-generator-search</span><br><span class="line">local_search:</span><br><span class="line">  enable: true</span><br><span class="line">  # if auto, trigger search by changing input</span><br><span class="line">  # if manual, trigger search by pressing enter key or search button</span><br><span class="line">  trigger: auto</span><br><span class="line">  # show top n results per article, show all results by setting to -1</span><br><span class="line">  top_n_per_article: 1</span><br></pre></td></tr></table></figure><h3 id="统计功能，统计功能-显示文章字数统计-阅读时长-总字数"><a href="#统计功能，统计功能-显示文章字数统计-阅读时长-总字数" class="headerlink" title="统计功能，统计功能,显示文章字数统计,阅读时长,总字数"></a>统计功能，统计功能,显示文章字数统计,阅读时长,总字数</h3><p>在站点的根目录下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm i --save hexo-wordcount</span><br></pre></td></tr></table></figure><p>打开 <code>themes/next/_config.yml</code> ，搜索关键字 <code>post_wordcount</code>：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># Post wordcount display settings</span><br><span class="line"># Dependencies: https://github.com/willin/hexo-wordcount</span><br><span class="line">post_wordcount:</span><br><span class="line">  item_text: true</span><br><span class="line">  #字数统计</span><br><span class="line">  wordcount: true</span><br><span class="line">  #预览时间</span><br><span class="line">  min2read: true</span><br><span class="line">  #总字数,显示在页面底部</span><br><span class="line">  totalcount: true</span><br><span class="line">  separated_meta: true</span><br></pre></td></tr></table></figure><p>本地站点推送到GitHub上</p><p>在站点更目录下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><p>在 <code>Hexo</code> 站点的 <code>_config.yml</code> 中配置 <code>deploy</code>：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># Deployment</span><br><span class="line">## Docs: https://hexo.io/docs/deployment.html</span><br><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: &lt;repository url&gt; #your github.io.git</span><br><span class="line">  branch: master</span><br><span class="line">$ hexo clean</span><br><span class="line">$ hexo d --g</span><br></pre></td></tr></table></figure><blockquote><p>hexo g  #生成本地 public 静态文件, hexo d  #部署到 Github 上, 也可以缩写成：hexo g –d 。</p></blockquote><p><strong>本文章摘自与<a href="http://gcchen.cn" target="_blank" rel="noopener">gcchen的博客</a>，在此感谢！</strong></p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;ubuntu成为我的日常使用的系统后，特在网上摘取了一篇ubuntu搭建hexo的文章&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="Ubuntu" scheme="//zunney.cn/categories/Ubuntu/"/>
    
      <category term="Hexo" scheme="//zunney.cn/categories/Ubuntu/Hexo/"/>
    
    
      <category term="Hexo" scheme="//zunney.cn/tags/Hexo/"/>
    
  </entry>
  
</feed>
